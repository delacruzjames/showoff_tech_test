<%= render 'widgets/search_form' %>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#widgetForm">
  Create new Widget
</button>

<table class="table table table-striped">
  <thead>
    <tr>
      <th scope="col">id</th>
      <th scope="col">Name</th>
      <th scope="col">Description</th>
      <th scope="col">Kind</th>
      <th scope="col">User</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <% @widgets.each do |widget| %>
      <tr>
        <th scope="row"><%= widget["id"] %></th>
        <td><%= widget["name"] %></td>
        <td><%= widget["description"] %></td>
        <td><%= widget["kind"] %></td>
        <td><%= widget["user"]['name'] %></td>
        <td>
          <%= link_to "Edit", "widgets/#{widget["id"]}", "data-toggle" => 'modal', "data-target" => "##{widget["id"]}-widgetForm" %>
          <%= link_to "Delete", widget_path(widget["id"]), method: :delete, data: {confirm: "Are you sure?"} %>
          <%= render 'widgets/edit', widget: widget %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>


<%= render "widgets/form" %>
